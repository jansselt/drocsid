{"id":"drocsid-08m","title":"Message list cannot scroll fully to bottom, last message cut off","description":"The message list cannot scroll far enough to show the most recent message fully. The bottom of the last message is clipped/hidden behind the message input bar and voice connection panel.\n\n**Steps to reproduce:**\n1. Join a voice channel (voice connected bar appears at bottom)\n2. Send or receive messages with images/GIFs so the list needs scrolling\n3. Try to scroll to the very bottom of the message list\n4. The last message is cut off — only the top half is visible\n\n**Expected:** The message list should be able to scroll completely to the bottom so the most recent message is fully visible above the message input.\n\n**Likely cause:** The message list container height calculation doesn't account for all bottom elements (voice connected bar, user panel) stacking below the message input, so the Virtuoso scroll area is taller than the visible space allows.","status":"closed","priority":1,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T21:33:17.419977587-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T21:44:22.878121386-06:00","closed_at":"2026-02-13T21:44:22.878121386-06:00","close_reason":"Added min-height: 0 to chat-area-wrapper, chat-area, and message-list to fix flex overflow causing last message cutoff"}
{"id":"drocsid-0ch","title":"Embedded links (YouTube etc) not working","description":"Links posted in chat (e.g. YouTube URLs) don't render as embeds/previews. Need link unfurling with metadata extraction and preview rendering.","status":"closed","priority":2,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T19:30:30.882837776-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T21:45:33.828066504-06:00","closed_at":"2026-02-13T21:45:33.828066504-06:00","close_reason":"Added YouTube embed support in Markdown renderer (detects youtube.com/youtu.be URLs, renders iframe embeds)"}
{"id":"drocsid-0o1","title":"Persist navigation state across page refresh","description":"Refreshing the page loses current server/channel context. Need to persist active server and text channel so users return to where they were. Voice/video resume not needed. Could use URL routing or localStorage.","status":"closed","priority":2,"issue_type":"feature","owner":"jansselt@gmail.com","created_at":"2026-02-13T19:30:36.894871308-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T20:01:27.217316107-06:00","closed_at":"2026-02-13T20:01:27.217316107-06:00","close_reason":"Closed"}
{"id":"drocsid-0p4","title":"Push to talk support","description":"Support push-to-talk as an alternative to voice activity detection. User should be able to configure a keybind for PTT in voice/audio settings. Related to drocsid-610 (voice \u0026 video settings panel).","status":"open","priority":3,"issue_type":"feature","owner":"jansselt@gmail.com","created_at":"2026-02-13T19:37:42.672645813-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T22:14:30.18540172-06:00","dependencies":[{"issue_id":"drocsid-0p4","depends_on_id":"drocsid-610","type":"blocks","created_at":"2026-02-13T19:37:46.48953597-06:00","created_by":"Luke Janssen"}]}
{"id":"drocsid-20o","title":"Cannot edit, rename, or delete channels","description":"If you misname a channel there's no way to edit it. Need channel edit/rename functionality.","status":"closed","priority":2,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T19:30:27.454284405-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T20:08:09.688320238-06:00","closed_at":"2026-02-13T20:08:09.688320238-06:00","close_reason":"Closed"}
{"id":"drocsid-443","title":"Fix voice video layout and speaking indicator in sidebar","status":"closed","priority":2,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T18:33:48.416548398-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T18:33:55.815755859-06:00","closed_at":"2026-02-13T18:33:55.815755859-06:00","close_reason":"Fixed video grid flex:1 causing full-area expansion, added speakingUsers set to serverStore bridging LiveKit isSpeaking to sidebar VoiceChannel"}
{"id":"drocsid-45k","title":"Chat doesn't auto-scroll to bottom when sending a message","description":"When the user sends a message, the chat view doesn't scroll down to show the newly sent message. The user has to manually scroll to see their own message appear. Expected: sending a message should auto-scroll the chat to the bottom so the new message is visible.","status":"in_progress","priority":2,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T22:23:10.442868916-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T22:25:42.567349153-06:00"}
{"id":"drocsid-4m5","title":"Fix page title and favicon","status":"closed","priority":1,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T21:59:03.819002542-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T22:00:02.982396802-06:00","closed_at":"2026-02-13T22:00:02.982396802-06:00","close_reason":"Set page title to drocsid, created SVG favicon (reversed chat bubble with lightning bolt)"}
{"id":"drocsid-4vw","title":"Voice/video panel layout still broken after fix","description":"After the flex:1 → flex-shrink:0 fix (c37fda6), the voice/video area still has layout issues:\n1. Voice controls bar floats in the middle of the content area even with no video active\n2. When camera is on, the video feed takes up too much vertical space pushing chat down\n3. Screen share similarly dominates the content area\nThe balance between voice/video content and chat messages needs rework.","status":"closed","priority":2,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T19:45:29.009564492-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T20:12:04.738218649-06:00","closed_at":"2026-02-13T20:12:04.738218649-06:00","close_reason":"Added compact mode for voice panel when browsing text channels, hides participant list in compact, better video sizing"}
{"id":"drocsid-610","title":"Voice \u0026 video settings panel in user settings","description":"Add a Voice \u0026 Video tab to user settings with: microphone/speaker device selection, mic/speaker volume sliders, mic test, camera preview/test. Similar to Discord's voice settings. Doesn't need input profiles or push-to-talk initially but should cover device selection and volume controls.","status":"closed","priority":2,"issue_type":"feature","owner":"jansselt@gmail.com","created_at":"2026-02-13T19:34:14.017783696-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T21:47:21.082746712-06:00","closed_at":"2026-02-13T21:47:21.082746712-06:00","close_reason":"Added Voice \u0026 Video tab to user settings with mic/speaker device selection, volume sliders, mic test with level meter, and camera preview"}
{"id":"drocsid-905","title":"Add Server and User Avatar Uploads","description":"Add ability for servers to have uploaded avatars and for users to have uploaded avatars. All users in chat should see other users' avatars.","status":"closed","priority":1,"issue_type":"feature","owner":"jansselt@gmail.com","created_at":"2026-02-13T11:39:44.746518063-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T18:34:00.650160012-06:00","closed_at":"2026-02-13T18:34:00.650160012-06:00","close_reason":"Implemented user settings: avatar upload, profile editing, 5 premade themes, server icon upload"}
{"id":"drocsid-9hj","title":"Avatar/icon not updating in UI after upload without refresh","description":"After uploading a user avatar or server icon, the image saves to the backend correctly but the UI doesn't reflect the change in all places until a full page refresh.\n\n**User avatar:**\n- Avatar updates in the settings panel after upload\n- Does NOT update in: channel message history (messages still show old avatar), voice channel sidebar, or other places showing the user's avatar\n- The uploader should see their new avatar everywhere immediately after upload, including on all their messages in the current channel\n\n**Server icon:**\n- Icon saves correctly (confirmed in server settings)\n- Does NOT update in the sidebar server icon list until page refresh\n- The server icon in the left sidebar doesn't fill the rounded button properly (sizing/object-fit issue)\n\n**Expected behavior:**\n- After uploading, the uploader should see the new avatar/icon reflected everywhere in the UI immediately (messages in channel, sidebar, voice, server list)\n- Channel messages sent by the user should show the updated avatar right away without refresh\n- Other users can see updates on refresh/reconnect (real-time propagation is a nice-to-have for later)\n\n**Root cause (likely):**\n- User avatar: After upload, only the auth store user object is updated. Components that render avatars from the users cache (serverStore.users map) still have the old avatar_url. Need to also update the cached user entry in serverStore.users so all message components re-render with the new avatar.\n- Server icon: After upload, updateServer API is called but the local server object in the store may not be getting updated reactively, or the sidebar server list component isn't re-rendering from the updated store.\n- Server icon sizing: The server icon img in the sidebar needs object-fit: cover and proper sizing to fill the rounded button.","status":"closed","priority":1,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T21:24:08.966370123-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T21:41:33.949522138-06:00","closed_at":"2026-02-13T21:41:33.949522138-06:00","close_reason":"Synced avatar to serverStore.users cache, updated servers array after icon upload, added avatar images to messages and voice panel, fixed CSS"}
{"id":"drocsid-9i9","title":"Message reactions not persisting","description":"Reactions added to messages are not saving/persisting. They may appear temporarily but don't stick after refresh or may not be stored server-side at all.","status":"closed","priority":1,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T19:48:07.506482766-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T21:02:55.335282075-06:00","closed_at":"2026-02-13T21:02:55.335282075-06:00","close_reason":"Closed"}
{"id":"drocsid-ab4","title":"Avatar upload broken for user and server","description":"Uploading avatars for both user profile and server icon does not work. Browser also prompts for local network device access which seems like a presigned URL or S3 config issue.","status":"closed","priority":1,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T19:30:29.524940772-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T21:02:55.318448468-06:00","closed_at":"2026-02-13T21:02:55.318448468-06:00","close_reason":"Closed"}
{"id":"drocsid-aix","title":"Fix LiveKit voice/video - container crash loop","description":"LiveKit container panics on startup with 'invalid argument to Intn' in getNAT1to1IPsForConf when use_external_ip is true. STUN auto-detection fails even with explicit stun servers and host networking. The container is in a crash loop on lighthouse (192.168.50.10).\n\nSetup: Docker with network_mode: host, config file at docker/livekit.yaml, keys via LIVEKIT_KEYS env var. Signaling proxied through Cloudflare Tunnel via nginx /livekit/ location. Media ports (7881 TCP, 7882 UDP) port-forwarded on router.\n\nAttempted fixes that didn't work:\n1. Switched from Docker bridge to host networking\n2. Added explicit STUN servers (stun.l.google.com:19302)\n3. Set use_external_ip: false with --node-ip from env var (not fully tested)\n\nKey files: docker/docker-compose.prod.yml, docker/livekit.yaml, deploy/nginx/drocsid.conf\n\nThe root issue is that STUN doesn't work from this network/server. Need to figure out why, or find a reliable alternative for providing the public IP to LiveKit ICE candidates.","status":"closed","priority":1,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T15:15:30.810280629-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T18:03:56.641666364-06:00","closed_at":"2026-02-13T18:03:56.641666364-06:00","close_reason":"Fixed. Root cause was rand.Intn(0) panic when port_range_start == port_range_end (both 7882). Also removed broken --node-ip workaround and reverted to STUN-based IP discovery with host networking."}
{"id":"drocsid-b4l","title":"Voice controls disappear when video/screen sharing is active","description":"When in a voice channel with video or screen sharing enabled, the voice control bar (mute, deafen, camera, screen share, leave/hangup button) disappears or becomes inaccessible. Users lose the ability to leave the voice channel or toggle any controls once video/screen sharing is active.\n\n**Steps to reproduce:**\n1. Join a voice channel\n2. Enable video or screen sharing\n3. Controls bar is no longer visible/accessible\n\n**Expected:** Voice controls should always remain visible and accessible regardless of video/screen sharing state. The leave button especially must always be reachable.\n\n**Priority:** P1 — users can get stuck in a voice channel with no way to leave.","status":"closed","priority":1,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T21:31:16.535452785-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T21:42:46.911687157-06:00","closed_at":"2026-02-13T21:42:46.911687157-06:00","close_reason":"Made video grid shrinkable and fixed compact bar overflow so controls always remain visible"}
{"id":"drocsid-c1w","title":"DM from server member sidebar","description":"Right-clicking or using a context menu on a user in the server member sidebar should allow launching a DM with that user.","status":"closed","priority":2,"issue_type":"feature","owner":"jansselt@gmail.com","created_at":"2026-02-13T19:30:34.806920434-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T20:02:31.000507005-06:00","closed_at":"2026-02-13T20:02:31.000507005-06:00","close_reason":"Closed"}
{"id":"drocsid-cvz","title":"Logo/favicon SVG doesn't look good at small server icon size","description":"The current favicon SVG (reversed chat bubble with lightning bolt) renders poorly at the small sizes used for server icons in the sidebar. The detail is lost and it doesn't read well. Needs a simpler or better-optimized design that works at ~48px and smaller.","status":"tombstone","priority":2,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T22:03:40.849646626-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T22:08:50.99759088-06:00","deleted_at":"2026-02-13T22:08:50.99759088-06:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"bug"}
{"id":"drocsid-deb","title":"No sound notifications at all (DM, mentions, voice join/leave)","description":"There are no audio notifications anywhere in the app. No sound for: new DM received, @mention in channel, user joining a voice channel, user leaving a voice channel. Need basic notification sounds for these core events.","status":"closed","priority":1,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T19:37:40.992529637-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T21:38:38.255079716-06:00","closed_at":"2026-02-13T21:38:38.255079716-06:00","close_reason":"Added notification sounds via Web Audio API: DM messages, @mentions, voice join/leave"}
{"id":"drocsid-e3j","title":"Fix invite member visibility and friend search","description":"Users joining via invite don't appear in server member list. Friend search requires UUID instead of username.","status":"closed","priority":1,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T18:43:07.359033876-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T18:43:12.768615229-06:00","closed_at":"2026-02-13T18:43:12.768615229-06:00","close_reason":"Fixed: added add_user_server+presence to invite endpoint, added SERVER_MEMBER_ADD gateway handler, added user search endpoint, rewrote friend search to use username lookup"}
{"id":"drocsid-e55","title":"Slash commands (/shrug, /gif, etc)","description":"Add slash command support for common actions like /shrug, /gif, and other text shortcuts.","status":"closed","priority":3,"issue_type":"feature","owner":"jansselt@gmail.com","created_at":"2026-02-13T19:30:32.121127224-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T21:50:53.973288907-06:00","closed_at":"2026-02-13T21:50:53.973288907-06:00","close_reason":"Added slash commands (/shrug, /tableflip, /unflip, /lenny, /disapprove, /sparkles, /gif) with autocomplete popup"}
{"id":"drocsid-itt","title":"GIF picker broken: not configured + cannot dismiss","description":"GIF search shows 'GIF search not configured' (backend Giphy integration not set up). Also the GIF popup cannot be dismissed - clicking outside does not close it.","status":"closed","priority":2,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T19:32:35.554502378-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T20:09:43.644393103-06:00","closed_at":"2026-02-13T20:09:43.644393103-06:00","close_reason":"Fixed dismiss (click-outside + Escape). Not configured error requires GIPHY API key in server config [gif].api_key"}
{"id":"drocsid-lte","title":"Code blocks (triple backtick) not rendering content","description":"When typing a triple-backtick code block in a message, the content between the backticks doesn't render — it appears blank/empty. Single backtick inline code works fine.\n\n**Steps to reproduce:**\n1. Type a message with triple backticks: ```some code```\n2. Send the message\n3. The code block area appears but the content inside is invisible/missing\n\n**Expected:** Content between triple backticks should render in a code block.\n\n**Possibly related:** The Markdown tokenizer regex for code blocks is ```(\\w*)\\n?([\\s\\S]*?)``` — it requires either a newline or content immediately after the opening backticks. If the user types the opening/closing backticks on the same line without a newline (e.g. ```test```), the (\\w*) capture group may consume 'test' as the language identifier, leaving nothing for the content capture group. Need to investigate the tokenizer behavior for single-line code blocks vs multi-line.","status":"closed","priority":2,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T21:26:30.590561902-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T21:49:39.082981946-06:00","closed_at":"2026-02-13T21:49:39.082981946-06:00","close_reason":"Fixed code block regex: split into multi-line (with language) and single-line (without) patterns so content is always captured"}
{"id":"drocsid-o8a","title":"Add more premade themes (solarized, console/IRC inspired)","description":"The 5 existing themes (dark, light, midnight, forest, rose) are well-received. Add more, drawing inspiration from:\n- Console/terminal classics: Solarized Dark, Solarized Light, Dracula, Monokai, Gruvbox, Nord\n- IRC nostalgia: mIRC-inspired, classic green-on-black terminal\n- Other popular palettes: Catppuccin, Tokyo Night, One Dark\nLow effort since the theme system is already built — just adding new CSS variable maps to themeStore.ts.","status":"closed","priority":4,"issue_type":"feature","owner":"jansselt@gmail.com","created_at":"2026-02-13T19:47:11.159581748-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T22:20:27.652732098-06:00","closed_at":"2026-02-13T22:20:27.652732098-06:00","close_reason":"Closed"}
{"id":"drocsid-r5u","title":"No way to view pinned messages","description":"There is a button to pin messages but no UI to view the list of pinned messages in a channel. Need a pinned messages panel/popover (e.g. triggered by a pin icon in the channel header).","status":"closed","priority":2,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T19:49:19.524366981-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T21:48:58.890667193-06:00","closed_at":"2026-02-13T21:48:58.890667193-06:00","close_reason":"Added pinned messages panel with pin icon button in chat header, fetches and displays pinned messages in a sidebar panel"}
{"id":"drocsid-rn6","title":"Server icon doesn't fill the full server button","description":"When a server has a custom icon/avatar uploaded, the image doesn't fully fill the server button in the sidebar. A lighter purple background color is visible around/behind the image. The avatar should cover the entire button area with no background showing through.","status":"closed","priority":2,"issue_type":"bug","owner":"jansselt@gmail.com","created_at":"2026-02-13T22:10:45.263515226-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T22:20:27.644723239-06:00","closed_at":"2026-02-13T22:20:27.644723239-06:00","close_reason":"Closed"}
{"id":"drocsid-snd","title":"Emoji support","description":"Add emoji picker and emoji rendering in messages.","status":"closed","priority":3,"issue_type":"feature","owner":"jansselt@gmail.com","created_at":"2026-02-13T19:30:33.44447476-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T21:53:09.577695016-06:00","closed_at":"2026-02-13T21:53:09.577695016-06:00","close_reason":"Added emoji picker with categorized grid, search, and shortcode support (:name: renders as emoji in messages)"}
{"id":"drocsid-tlo","title":"Add Different Themes","description":"Add different prebuilt themes with stretch goal of allowing user to theme elements as they please. Add theme switching support.","status":"closed","priority":3,"issue_type":"feature","owner":"jansselt@gmail.com","created_at":"2026-02-13T11:39:41.939246863-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T18:34:00.66047499-06:00","closed_at":"2026-02-13T18:34:00.66047499-06:00","close_reason":"Implemented user settings: avatar upload, profile editing, 5 premade themes, server icon upload"}
{"id":"drocsid-zje","title":"Set up CI/CD deployment to home server","description":"Set up GitHub Actions to deploy Drocsid to home server so friends can test. Need to build backend + frontend and deploy to local infrastructure.","status":"closed","priority":1,"issue_type":"task","owner":"jansselt@gmail.com","created_at":"2026-02-13T13:08:34.164832127-06:00","created_by":"Luke Janssen","updated_at":"2026-02-13T15:15:18.564797225-06:00","closed_at":"2026-02-13T15:15:18.564797225-06:00","close_reason":"CI/CD pipeline fully working: push to main triggers GitHub Actions, self-hosted runner builds Rust+React, deploys to lighthouse via systemd+nginx, health check passes. LiveKit voice/video broken separately."}
