# Drocsid Production Environment
# Copy this to /opt/drocsid/.env and fill in real values.
# Generate secrets with: openssl rand -hex 32

# ── Database ─────────────────────────────────────────────
POSTGRES_PASSWORD=CHANGE_ME
DROCSID__DATABASE__URL=postgres://drocsid:CHANGE_ME@127.0.0.1:5432/drocsid
DROCSID__DATABASE__MAX_CONNECTIONS=20

# ── Redis ────────────────────────────────────────────────
DROCSID__REDIS__URL=redis://127.0.0.1:6379

# ── Auth ─────────────────────────────────────────────────
DROCSID__AUTH__JWT_SECRET=CHANGE_ME_USE_openssl_rand_hex_32
DROCSID__AUTH__ACCESS_TOKEN_TTL_SECS=900
DROCSID__AUTH__REFRESH_TOKEN_TTL_SECS=2592000

# ── Instance ─────────────────────────────────────────────
DROCSID__INSTANCE__DOMAIN=your-tunnel-domain.example.com
DROCSID__INSTANCE__NAME=Drocsid

# ── Server ───────────────────────────────────────────────
DROCSID__SERVER__HOST=127.0.0.1
DROCSID__SERVER__PORT=9847

# ── S3 / MinIO ──────────────────────────────────────────
MINIO_ROOT_USER=CHANGE_ME
MINIO_ROOT_PASSWORD=CHANGE_ME
DROCSID__S3__ENDPOINT=http://127.0.0.1:9500
DROCSID__S3__REGION=us-east-1
DROCSID__S3__BUCKET=drocsid-uploads
DROCSID__S3__ACCESS_KEY=CHANGE_ME
DROCSID__S3__SECRET_KEY=CHANGE_ME
DROCSID__S3__PUBLIC_URL=https://your-tunnel-domain.example.com/uploads

# ── LiveKit ──────────────────────────────────────────────
# Signaling goes through Cloudflare Tunnel via nginx /livekit/ proxy.
# Media (UDP 7882) and TURN fallback (TCP 7881) need port forwarding on router.
LIVEKIT_API_KEY=CHANGE_ME
LIVEKIT_API_SECRET=CHANGE_ME
DROCSID__LIVEKIT__URL=ws://127.0.0.1:7880
DROCSID__LIVEKIT__PUBLIC_URL=wss://your-tunnel-domain.example.com/livekit
DROCSID__LIVEKIT__API_KEY=CHANGE_ME
DROCSID__LIVEKIT__API_SECRET=CHANGE_ME

# ── Frontend Build (also set as GitHub repo secrets) ─────
VITE_API_URL=https://your-tunnel-domain.example.com/api/v1
VITE_WS_URL=wss://your-tunnel-domain.example.com

# ── Logging ──────────────────────────────────────────────
RUST_LOG=info
