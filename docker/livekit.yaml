# LiveKit production config for Drocsid
# Keys are set via LIVEKIT_KEYS environment variable.

port: 7880
bind_addresses:
  - "0.0.0.0"

rtc:
  # UDP media port — must be port-forwarded on router
  port_range_start: 7882
  port_range_end: 7882
  # TCP fallback for users behind restrictive firewalls
  tcp_port: 7881
  # Auto-detect public IP via STUN so ICE candidates are correct.
  # Requires host networking (network_mode: host) so STUN can reach the internet.
  use_external_ip: true
  stun_servers:
    - stun.l.google.com:19302
    - stun1.l.google.com:19302
    - stun2.l.google.com:19302
    - stun.cloudflare.com:3478
  # Exclude virtual interfaces — with host networking LiveKit sees all host interfaces.
  interfaces:
    excludes:
      - docker0
      - br-*
      - veth*
      - lo

logging:
  level: debug  # TODO: switch back to info once voice/video is confirmed working
