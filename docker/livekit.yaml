# LiveKit production config for Drocsid
# Keys are set via LIVEKIT_KEYS environment variable.

port: 7880
bind_addresses:
  - "0.0.0.0"

rtc:
  # UDP media port â€” must be port-forwarded on router
  port_range_start: 7882
  port_range_end: 7883  # Must be > start; LiveKit panics on rand.Intn(0) when start == end
  # TCP fallback for users behind restrictive firewalls
  tcp_port: 7881
  # Auto-detect public IP via STUN so ICE candidates are correct.
  # Requires host networking (network_mode: host) so STUN can reach the internet.
  use_external_ip: true
  stun_servers:
    - stun.l.google.com:19302
    - stun1.l.google.com:19302
    - stun2.l.google.com:19302
    - stun.cloudflare.com:3478
  # Only use the real NIC (eno1). With host networking, LiveKit sees all host interfaces
  # including many Docker bridge networks that would generate bogus STUN lookups.
  interfaces:
    includes:
      - eno1

logging:
  level: info
